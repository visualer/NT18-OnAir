{"version":3,"sources":["app.min.js","main.js","app.js"],"names":["init","colorSeries","colors","map","e","textColors","errorContainer","document","querySelector","showMsg","message","actionHandler","actionText","MaterialSnackbar","showSnackbar","timeout","idx","data","mail","$","ajaxSetup","error","xhr","status","exception","setTimeout","location","href","getJSON","data_","lunr","this","ref","field","forEach","doc","add","id","title","author","join","lab","content","mapping","keydown","$searchResult","$searchInput","$searchActions","find","keyCode","preventDefault","html","result","search","val","length","hasClass","transition","elem","resultIndex","resultJson","authors","authorName","index","labs","labName","colorIndex","append","click","target","currentTarget","toggleClass","componentHandler","upgradeAllRegistered","animation","duration","interval","load","skipA2HS","isLocalhost","Boolean","window","hostname","match","navigator","protocol","serviceWorker","register","then","registration","onupdatefound","controller","installingWorker","installing","onstatechange","state","Error","console"],"mappings":"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","file":"app.min.js","sourcesContent":["'use strict';\nfunction init() {\n\n  /* Init all components and functions */\n\n  var colorSeries = ['deep-orange-600', 'orange-700', 'orange-500', 'orange-700'];\n  var colors = colorSeries.map(function (e) {return 'mdl-color--' + e;});\n  var textColors = colorSeries.map(function (e) {return 'mdl-color-text--' + e;});\n\n  var errorContainer = document.querySelector('#errorContainer');\n  var showMsg = function showMsg(message, actionHandler, actionText) {\n    errorContainer.MaterialSnackbar.showSnackbar({\n      message: message,\n      timeout: 3000,\n      actionHandler: actionHandler,\n      actionText: actionText });\n\n  };\n\n  var idx = null,data = null;\n  var mail = null;\n\n  $.ajaxSetup({\n    error: function error(xhr, status, exception) {\n      mail = 'mailto:accel@pku.edu.cn?subject=NT18 OnAir Bug&body=status:' + status + '; exception:' + exception;\n      setTimeout(function () {\n        showMsg('Abstracts load error', function () {\n          location.href = mail;\n        }, 'Report');\n      }, 3000);\n    } });\n\n\n  $.getJSON('data/abstracts.json', function (data_) {\n    data = data_;\n    idx = lunr(function () {\n      this.ref('id');\n      this.field('title');\n      this.field('lab');\n      this.field('content');\n      this.field('author');\n      data.forEach(function (doc) {\n        this.add({\n          id: doc.id,\n          title: doc.title,\n          author: doc.author.join(' '),\n          lab: doc.lab.join(' '),\n          content: doc.content,\n          mapping: doc.mapping });\n\n      }, this);\n    });\n  });\n\n\n  // abstract tab processing\n\n  $('#searchInput').keydown(function (e) {\n\n    var $searchResult = $('#searchResult');\n    var $searchInput = $('#searchInput');\n    var $searchActions = $('#abstract').find('.mdl-card__actions');\n\n    if (e.keyCode !== 13) return true;\n    e.preventDefault();\n\n    if (idx === null) {\n      showMsg('Abstracts load error', function () {\n        location.href = mail;\n      }, 'Report');\n      return;\n    }\n\n    $searchResult.html('');\n\n    var result = idx.search($searchInput.val());\n    if (result.length === 0) {\n      showMsg('No result', function () {\n        $searchInput.val('');\n      }, 'Clear Input');\n      if (!$searchActions.hasClass('hidden')) $searchActions.transition('fade out');\n      return;\n    }\n    if ($searchActions.hasClass('hidden')) $searchActions.transition('fade in');\n\n    result.forEach(function (elem, resultIndex) {\n\n      var resultJson = data[elem.ref];\n      var authors = resultJson.author.\n      map(function (authorName, index) {return authorName + '<sup>' + resultJson.mapping[index] + '</sup>';}).join(', ');\n      var labs = resultJson.lab.\n      map(function (labName, index) {return '(' + (index + 1) + ') ' + labName;}).join(', ');\n      var colorIndex = resultIndex % colors.length;\n\n      $searchResult.append($('\\n            <section class=\"section--center mdl-grid mdl-shadow--2dp mdl-grid--no-spacing hidden resultUnits\">\\n              <div class=\"mdl-card mdl-cell\\n                          mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone\">\\n                <div class=\"mdl-card__title mdl-color-text--white ' +\n\n\n\n      colors[colorIndex] + '\"\\n                     style=\"min-height: 80px;\">\\n                  <h4 class=\"mdl-card__title-text\" style=\"margin-top: 30px;\">' +\n\n      resultJson.title + '</h4>\\n                </div>\\n                <div class=\"mdl-card__supporting-text\">\\n                  <h6 style=\"margin: 12px;\">' +\n\n\n      authors + '</h6><br /><p>' + labs + '</p>\\n                  <span class=\"resultInnerContent hidden\"><hr />' +\n      resultJson.content + '</span>\\n                </div>\\n                <div class=\"mdl-card__actions\">\\n                  <div class=\"mdl-button mdl-js-button mdl-js-ripple-effect ' +\n\n\n      textColors[colorIndex] + '\">\\n                    Toggle Content\\n                  </div>\\n                </div>\\n              </div>\\n            </section>\\n          ').\n\n\n\n\n\n      click(function (e) {\n        if ($(e.target).hasClass('mdl-button__ripple-container'))\n        $(e.currentTarget).find('.resultInnerContent').toggleClass('hidden');\n      }));\n    });\n\n    componentHandler.upgradeAllRegistered();\n    $(\".resultUnits\").transition({ animation: 'slide down', duration: 200, interval: 100 });\n  });\n\n  // schedule tab\n\n  $(\"#schedule\").load('partial/schedule.html');\n\n  componentHandler.upgradeAllRegistered();\n\n}\n\n\nfunction skipA2HS() {\n\n  $('.mdl__loader.non-standalone').transition('fade out');\n\n}\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiaW5pdCIsImNvbG9yU2VyaWVzIiwiY29sb3JzIiwibWFwIiwiZSIsInRleHRDb2xvcnMiLCJlcnJvckNvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNob3dNc2ciLCJtZXNzYWdlIiwiYWN0aW9uSGFuZGxlciIsImFjdGlvblRleHQiLCJNYXRlcmlhbFNuYWNrYmFyIiwic2hvd1NuYWNrYmFyIiwidGltZW91dCIsImlkeCIsImRhdGEiLCJtYWlsIiwiJCIsImFqYXhTZXR1cCIsImVycm9yIiwieGhyIiwic3RhdHVzIiwiZXhjZXB0aW9uIiwic2V0VGltZW91dCIsImxvY2F0aW9uIiwiaHJlZiIsImdldEpTT04iLCJkYXRhXyIsImx1bnIiLCJyZWYiLCJmaWVsZCIsImZvckVhY2giLCJkb2MiLCJhZGQiLCJpZCIsInRpdGxlIiwiYXV0aG9yIiwiam9pbiIsImxhYiIsImNvbnRlbnQiLCJtYXBwaW5nIiwia2V5ZG93biIsIiRzZWFyY2hSZXN1bHQiLCIkc2VhcmNoSW5wdXQiLCIkc2VhcmNoQWN0aW9ucyIsImZpbmQiLCJrZXlDb2RlIiwicHJldmVudERlZmF1bHQiLCJodG1sIiwicmVzdWx0Iiwic2VhcmNoIiwidmFsIiwibGVuZ3RoIiwiaGFzQ2xhc3MiLCJ0cmFuc2l0aW9uIiwiZWxlbSIsInJlc3VsdEluZGV4IiwicmVzdWx0SnNvbiIsImF1dGhvcnMiLCJhdXRob3JOYW1lIiwiaW5kZXgiLCJsYWJzIiwibGFiTmFtZSIsImNvbG9ySW5kZXgiLCJhcHBlbmQiLCJjbGljayIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJ0b2dnbGVDbGFzcyIsImNvbXBvbmVudEhhbmRsZXIiLCJ1cGdyYWRlQWxsUmVnaXN0ZXJlZCIsImFuaW1hdGlvbiIsImR1cmF0aW9uIiwiaW50ZXJ2YWwiLCJsb2FkIiwic2tpcEEySFMiXSwibWFwcGluZ3MiOiI7QUFDQSxTQUFTQSxJQUFULEdBQWdCOztBQUVkOztBQUVB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Q2xCLFlBQUllLEVBQUVmLEVBQUVnRSxNQUFKLEVBQVliLFFBQVosQ0FBcUIsOEJBQXJCLENBQUo7QUFDRXBDLFVBQUVmLEVBQUVpRSxhQUFKLEVBQW1CdEIsSUFBbkIsQ0FBd0IscUJBQXhCLEVBQStDdUIsV0FBL0MsQ0FBMkQsUUFBM0Q7QUFDSCxPQXRCb0IsQ0FBckI7QUF1QkQsS0FoQ0Q7O0FBa0NBQyxxQkFBaUJDLG9CQUFqQjtBQUNBckQsTUFBRSxjQUFGLEVBQWtCcUMsVUFBbEIsQ0FBNkIsRUFBRWlCLFdBQVcsWUFBYixFQUEyQkMsVUFBVSxHQUFyQyxFQUEwQ0MsVUFBVSxHQUFwRCxFQUE3QjtBQUNELEdBaEVEOztBQWtFQTs7QUFFQXhELElBQUUsV0FBRixFQUFleUQsSUFBZixDQUFvQix1QkFBcEI7O0FBRUFMLG1CQUFpQkMsb0JBQWpCOztBQUVEOzs7QUFHRCxTQUFTSyxRQUFULEdBQW9COztBQUVsQjFELElBQUUsNkJBQUYsRUFBaUNxQyxVQUFqQyxDQUE0QyxVQUE1Qzs7QUFFRCIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5mdW5jdGlvbiBpbml0KCkge1xuXG4gIC8qIEluaXQgYWxsIGNvbXBvbmVudHMgYW5kIGZ1bmN0aW9ucyAqL1xuXG4gIGxldCBjb2xvclNlcmllcyA9IFsnZGVlcC1vcmFuZ2UtNjAwJywgJ29yYW5nZS03MDAnLCAnb3JhbmdlLTUwMCcsICdvcmFuZ2UtNzAwJ107XG4gIGxldCBjb2xvcnMgPSBjb2xvclNlcmllcy5tYXAoKGUpID0+ICdtZGwtY29sb3ItLScgKyBlKTtcbiAgbGV0IHRleHRDb2xvcnMgPSBjb2xvclNlcmllcy5tYXAoKGUpID0+ICdtZGwtY29sb3ItdGV4dC0tJyArIGUpO1xuXG4gIGxldCBlcnJvckNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvckNvbnRhaW5lcicpO1xuICBsZXQgc2hvd01zZyA9IChtZXNzYWdlLCBhY3Rpb25IYW5kbGVyLCBhY3Rpb25UZXh0KSA9PiB7XG4gICAgZXJyb3JDb250YWluZXIuTWF0ZXJpYWxTbmFja2Jhci5zaG93U25hY2tiYXIoe1xuICAgICAgbWVzc2FnZTogbWVzc2FnZSxcbiAgICAgIHRpbWVvdXQ6IDMwMDAsXG4gICAgICBhY3Rpb25IYW5kbGVyOiBhY3Rpb25IYW5kbGVyLFxuICAgICAgYWN0aW9uVGV4dDogYWN0aW9uVGV4dFxuICAgIH0pO1xuICB9O1xuXG4gIGxldCBpZHggPSBudWxsLCBkYXRhID0gbnVsbDtcbiAgbGV0IG1haWwgPSBudWxsO1xuXG4gICQuYWpheFNldHVwKHtcbiAgICBlcnJvcjogKHhociwgc3RhdHVzLCBleGNlcHRpb24pID0+IHtcbiAgICAgIG1haWwgPSBgbWFpbHRvOmFjY2VsQHBrdS5lZHUuY24/c3ViamVjdD1OVDE4IE9uQWlyIEJ1ZyZib2R5PXN0YXR1czoke3N0YXR1c307IGV4Y2VwdGlvbjoke2V4Y2VwdGlvbn1gO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNob3dNc2coJ0Fic3RyYWN0cyBsb2FkIGVycm9yJywgKCkgPT4ge1xuICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBtYWlsO1xuICAgICAgICB9LCAnUmVwb3J0Jyk7XG4gICAgICB9LCAzMDAwKTtcbiAgICB9XG4gIH0pO1xuXG4gICQuZ2V0SlNPTignZGF0YS9hYnN0cmFjdHMuanNvbicsIGZ1bmN0aW9uIChkYXRhXykge1xuICAgIGRhdGEgPSBkYXRhXztcbiAgICBpZHggPSBsdW5yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMucmVmKCdpZCcpO1xuICAgICAgdGhpcy5maWVsZCgndGl0bGUnKTtcbiAgICAgIHRoaXMuZmllbGQoJ2xhYicpO1xuICAgICAgdGhpcy5maWVsZCgnY29udGVudCcpO1xuICAgICAgdGhpcy5maWVsZCgnYXV0aG9yJyk7XG4gICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgICAgICB0aGlzLmFkZCh7XG4gICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICB0aXRsZTogZG9jLnRpdGxlLFxuICAgICAgICAgIGF1dGhvcjogZG9jLmF1dGhvci5qb2luKCcgJyksXG4gICAgICAgICAgbGFiOiBkb2MubGFiLmpvaW4oJyAnKSxcbiAgICAgICAgICBjb250ZW50OiBkb2MuY29udGVudCxcbiAgICAgICAgICBtYXBwaW5nOiBkb2MubWFwcGluZ1xuICAgICAgICB9KTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH0pO1xuICB9KTtcblxuXG4gIC8vIGFic3RyYWN0IHRhYiBwcm9jZXNzaW5nXG5cbiAgJCgnI3NlYXJjaElucHV0Jykua2V5ZG93bigoZSkgPT4ge1xuXG4gICAgbGV0ICRzZWFyY2hSZXN1bHQgPSAkKCcjc2VhcmNoUmVzdWx0Jyk7XG4gICAgbGV0ICRzZWFyY2hJbnB1dCA9ICQoJyNzZWFyY2hJbnB1dCcpO1xuICAgIGxldCAkc2VhcmNoQWN0aW9ucyA9ICQoJyNhYnN0cmFjdCcpLmZpbmQoJy5tZGwtY2FyZF9fYWN0aW9ucycpO1xuXG4gICAgaWYgKGUua2V5Q29kZSAhPT0gMTMpIHJldHVybiB0cnVlO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmIChpZHggPT09IG51bGwpIHtcbiAgICAgIHNob3dNc2coJ0Fic3RyYWN0cyBsb2FkIGVycm9yJywgKCkgPT4ge1xuICAgICAgICBsb2NhdGlvbi5ocmVmID0gbWFpbDtcbiAgICAgIH0sICdSZXBvcnQnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkc2VhcmNoUmVzdWx0Lmh0bWwoJycpO1xuXG4gICAgbGV0IHJlc3VsdCA9IGlkeC5zZWFyY2goJHNlYXJjaElucHV0LnZhbCgpKTtcbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2hvd01zZygnTm8gcmVzdWx0JywgKCkgPT4ge1xuICAgICAgICAkc2VhcmNoSW5wdXQudmFsKCcnKTtcbiAgICAgIH0sICdDbGVhciBJbnB1dCcpO1xuICAgICAgaWYgKCEkc2VhcmNoQWN0aW9ucy5oYXNDbGFzcygnaGlkZGVuJykpICRzZWFyY2hBY3Rpb25zLnRyYW5zaXRpb24oJ2ZhZGUgb3V0Jyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICgkc2VhcmNoQWN0aW9ucy5oYXNDbGFzcygnaGlkZGVuJykpICRzZWFyY2hBY3Rpb25zLnRyYW5zaXRpb24oJ2ZhZGUgaW4nKTtcblxuICAgIHJlc3VsdC5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtLCByZXN1bHRJbmRleCkge1xuXG4gICAgICBsZXQgcmVzdWx0SnNvbiA9IGRhdGFbZWxlbS5yZWZdO1xuICAgICAgbGV0IGF1dGhvcnMgPSByZXN1bHRKc29uLmF1dGhvclxuICAgICAgICAubWFwKChhdXRob3JOYW1lLCBpbmRleCkgPT4gYCR7YXV0aG9yTmFtZX08c3VwPiR7cmVzdWx0SnNvbi5tYXBwaW5nW2luZGV4XX08L3N1cD5gKS5qb2luKCcsICcpO1xuICAgICAgbGV0IGxhYnMgPSByZXN1bHRKc29uLmxhYlxuICAgICAgICAubWFwKChsYWJOYW1lLCBpbmRleCkgPT4gYCgke2luZGV4ICsgMX0pICR7bGFiTmFtZX1gKS5qb2luKCcsICcpO1xuICAgICAgbGV0IGNvbG9ySW5kZXggPSByZXN1bHRJbmRleCAlIGNvbG9ycy5sZW5ndGg7XG5cbiAgICAgICRzZWFyY2hSZXN1bHQuYXBwZW5kKCQoYFxuICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9XCJzZWN0aW9uLS1jZW50ZXIgbWRsLWdyaWQgbWRsLXNoYWRvdy0tMmRwIG1kbC1ncmlkLS1uby1zcGFjaW5nIGhpZGRlbiByZXN1bHRVbml0c1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWRsLWNhcmQgbWRsLWNlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWRsLWNlbGwtLTEyLWNvbC1kZXNrdG9wIG1kbC1jZWxsLS04LWNvbC10YWJsZXQgbWRsLWNlbGwtLTQtY29sLXBob25lXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1kbC1jYXJkX190aXRsZSBtZGwtY29sb3ItdGV4dC0td2hpdGUgJHtjb2xvcnNbY29sb3JJbmRleF19XCJcbiAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwibWluLWhlaWdodDogODBweDtcIj5cbiAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cIm1kbC1jYXJkX190aXRsZS10ZXh0XCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAzMHB4O1wiPiR7cmVzdWx0SnNvbi50aXRsZX08L2g0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZGwtY2FyZF9fc3VwcG9ydGluZy10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICA8aDYgc3R5bGU9XCJtYXJnaW46IDEycHg7XCI+JHthdXRob3JzfTwvaDY+PGJyIC8+PHA+JHtsYWJzfTwvcD5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVzdWx0SW5uZXJDb250ZW50IGhpZGRlblwiPjxociAvPiR7cmVzdWx0SnNvbi5jb250ZW50fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWRsLWNhcmRfX2FjdGlvbnNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZGwtYnV0dG9uIG1kbC1qcy1idXR0b24gbWRsLWpzLXJpcHBsZS1lZmZlY3QgJHt0ZXh0Q29sb3JzW2NvbG9ySW5kZXhdfVwiPlxuICAgICAgICAgICAgICAgICAgICBUb2dnbGUgQ29udGVudFxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgICAgIGApLmNsaWNrKChlKSA9PiB7XG4gICAgICAgIGlmICgkKGUudGFyZ2V0KS5oYXNDbGFzcygnbWRsLWJ1dHRvbl9fcmlwcGxlLWNvbnRhaW5lcicpKVxuICAgICAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS5maW5kKCcucmVzdWx0SW5uZXJDb250ZW50JykudG9nZ2xlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgfSkpO1xuICAgIH0pO1xuXG4gICAgY29tcG9uZW50SGFuZGxlci51cGdyYWRlQWxsUmVnaXN0ZXJlZCgpO1xuICAgICQoXCIucmVzdWx0VW5pdHNcIikudHJhbnNpdGlvbih7IGFuaW1hdGlvbjogJ3NsaWRlIGRvd24nLCBkdXJhdGlvbjogMjAwLCBpbnRlcnZhbDogMTAwIH0pO1xuICB9KTtcblxuICAvLyBzY2hlZHVsZSB0YWJcblxuICAkKFwiI3NjaGVkdWxlXCIpLmxvYWQoJ3BhcnRpYWwvc2NoZWR1bGUuaHRtbCcpO1xuXG4gIGNvbXBvbmVudEhhbmRsZXIudXBncmFkZUFsbFJlZ2lzdGVyZWQoKTtcblxufVxuXG5cbmZ1bmN0aW9uIHNraXBBMkhTKCkge1xuXG4gICQoJy5tZGxfX2xvYWRlci5ub24tc3RhbmRhbG9uZScpLnRyYW5zaXRpb24oJ2ZhZGUgb3V0Jyk7XG5cbn1cbiJdfQ==\n\n'use strict';\n/* eslint-env browser */\n(function () {\n  'use strict';\n\n  // Check to make sure service workers are supported in the current browser,\n  // and that the current page is accessed from a secure origin. Using a\n  // service worker from an insecure origin will trigger JS console errors. See\n  // http://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features\n  var isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n  /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));\n\n\n\n  if ('serviceWorker' in navigator && (\n  window.location.protocol === 'https:' || isLocalhost)) {\n    navigator.serviceWorker.register('service-worker.js').\n    then(function (registration) {\n      // updatefound is fired if service-worker.js changes.\n      registration.onupdatefound = function () {\n        // updatefound is also fired the very first time the SW is installed,\n        // and there's no need to prompt for a reload at that point.\n        // So check here to see if the page is already controlled,\n        // i.e. whether there's an existing service worker.\n        if (navigator.serviceWorker.controller) {\n          // The updatefound event implies that registration.installing is set:\n          // https://slightlyoff.github.io/ServiceWorker/spec/service_worker/index.html#service-worker-container-updatefound-event\n          var installingWorker = registration.installing;\n\n          installingWorker.onstatechange = function () {\n            switch (installingWorker.state) {\n              case 'installed':\n\n                $('.newContentPrompt').transition('slide down');\n\n                break;\n\n              case 'redundant':\n                throw new Error('The installing ' +\n                'service worker became redundant.');\n\n              default:\n              // Ignore\n            }\n          };\n        }\n      };\n    }).catch(function (e) {\n      console.error('Error during service worker registration:', e);\n    });\n  }\n\n  init();\n\n})();\n//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJpc0xvY2FsaG9zdCIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwibWF0Y2giLCJuYXZpZ2F0b3IiLCJwcm90b2NvbCIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RlciIsInRoZW4iLCJyZWdpc3RyYXRpb24iLCJvbnVwZGF0ZWZvdW5kIiwiY29udHJvbGxlciIsImluc3RhbGxpbmdXb3JrZXIiLCJpbnN0YWxsaW5nIiwib25zdGF0ZWNoYW5nZSIsInN0YXRlIiwiJCIsInRyYW5zaXRpb24iLCJFcnJvciIsImNhdGNoIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsImluaXQiXSwibWFwcGluZ3MiOiI7QUFDQTtBQUNBLENBQUMsWUFBVztBQUNWOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBSUEsY0FBY0MsUUFBUUMsT0FBT0MsUUFBUCxDQUFnQkMsUUFBaEIsS0FBNkIsV0FBN0I7QUFDdEI7QUFDQUYsU0FBT0MsUUFBUCxDQUFnQkMsUUFBaEIsS0FBNkIsT0FGUDtBQUd0QjtBQUNBRixTQUFPQyxRQUFQLENBQWdCQyxRQUFoQixDQUF5QkMsS0FBekI7QUFDRSwwREFERixDQUpjLENBQWxCOzs7O0FBU0EsTUFBSSxtQkFBbUJDLFNBQW5CO0FBQ0NKLFNBQU9DLFFBQVAsQ0FBZ0JJLFFBQWhCLEtBQTZCLFFBQTdCLElBQXlDUCxXQUQxQyxDQUFKLEVBQzREO0FBQzFETSxjQUFVRSxhQUFWLENBQXdCQyxRQUF4QixDQUFpQyxtQkFBakM7QUFDQ0MsUUFERCxDQUNNLFVBQVNDLFlBQVQsRUFBdUI7QUFDM0I7QUFDQUEsbUJBQWFDLGFBQWIsR0FBNkIsWUFBVztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQUlOLFVBQVVFLGFBQVYsQ0FBd0JLLFVBQTVCLEVBQXdDO0FBQ3RDO0FBQ0E7QUFDQSxjQUFJQyxtQkFBbUJILGFBQWFJLFVBQXBDOztBQUVBRCwyQkFBaUJFLGFBQWpCLEdBQWlDLFlBQVc7QUFDMUMsb0JBQVFGLGlCQUFpQkcsS0FBekI7QUFDRSxtQkFBSyxXQUFMOztBQUVFQyxrQkFBRSxtQkFBRixFQUF1QkMsVUFBdkIsQ0FBa0MsWUFBbEM7O0FBRUE7O0FBRUYsbUJBQUssV0FBTDtBQUNFLHNCQUFNLElBQUlDLEtBQUosQ0FBVTtBQUNBLGtEQURWLENBQU47O0FBR0Y7QUFDRTtBQVpKO0FBY0QsV0FmRDtBQWdCRDtBQUNGLE9BM0JEO0FBNEJELEtBL0JELEVBK0JHQyxLQS9CSCxDQStCUyxVQUFTQyxDQUFULEVBQVk7QUFDbkJDLGNBQVFDLEtBQVIsQ0FBYywyQ0FBZCxFQUEyREYsQ0FBM0Q7QUFDRCxLQWpDRDtBQWtDRDs7QUFFREc7O0FBRUQsQ0F4REQiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIENoZWNrIHRvIG1ha2Ugc3VyZSBzZXJ2aWNlIHdvcmtlcnMgYXJlIHN1cHBvcnRlZCBpbiB0aGUgY3VycmVudCBicm93c2VyLFxuICAvLyBhbmQgdGhhdCB0aGUgY3VycmVudCBwYWdlIGlzIGFjY2Vzc2VkIGZyb20gYSBzZWN1cmUgb3JpZ2luLiBVc2luZyBhXG4gIC8vIHNlcnZpY2Ugd29ya2VyIGZyb20gYW4gaW5zZWN1cmUgb3JpZ2luIHdpbGwgdHJpZ2dlciBKUyBjb25zb2xlIGVycm9ycy4gU2VlXG4gIC8vIGh0dHA6Ly93d3cuY2hyb21pdW0ub3JnL0hvbWUvY2hyb21pdW0tc2VjdXJpdHkvcHJlZmVyLXNlY3VyZS1vcmlnaW5zLWZvci1wb3dlcmZ1bC1uZXctZmVhdHVyZXNcbiAgdmFyIGlzTG9jYWxob3N0ID0gQm9vbGVhbih3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgPT09ICdsb2NhbGhvc3QnIHx8XG4gICAgICAvLyBbOjoxXSBpcyB0aGUgSVB2NiBsb2NhbGhvc3QgYWRkcmVzcy5cbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ1s6OjFdJyB8fFxuICAgICAgLy8gMTI3LjAuMC4xLzggaXMgY29uc2lkZXJlZCBsb2NhbGhvc3QgZm9yIElQdjQuXG4gICAgICB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUubWF0Y2goXG4gICAgICAgIC9eMTI3KD86XFwuKD86MjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/KSl7M30kL1xuICAgICAgKVxuICAgICk7XG5cbiAgaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IgJiZcbiAgICAgICh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgPT09ICdodHRwczonIHx8IGlzTG9jYWxob3N0KSkge1xuICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCdzZXJ2aWNlLXdvcmtlci5qcycpXG4gICAgLnRoZW4oZnVuY3Rpb24ocmVnaXN0cmF0aW9uKSB7XG4gICAgICAvLyB1cGRhdGVmb3VuZCBpcyBmaXJlZCBpZiBzZXJ2aWNlLXdvcmtlci5qcyBjaGFuZ2VzLlxuICAgICAgcmVnaXN0cmF0aW9uLm9udXBkYXRlZm91bmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gdXBkYXRlZm91bmQgaXMgYWxzbyBmaXJlZCB0aGUgdmVyeSBmaXJzdCB0aW1lIHRoZSBTVyBpcyBpbnN0YWxsZWQsXG4gICAgICAgIC8vIGFuZCB0aGVyZSdzIG5vIG5lZWQgdG8gcHJvbXB0IGZvciBhIHJlbG9hZCBhdCB0aGF0IHBvaW50LlxuICAgICAgICAvLyBTbyBjaGVjayBoZXJlIHRvIHNlZSBpZiB0aGUgcGFnZSBpcyBhbHJlYWR5IGNvbnRyb2xsZWQsXG4gICAgICAgIC8vIGkuZS4gd2hldGhlciB0aGVyZSdzIGFuIGV4aXN0aW5nIHNlcnZpY2Ugd29ya2VyLlxuICAgICAgICBpZiAobmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuY29udHJvbGxlcikge1xuICAgICAgICAgIC8vIFRoZSB1cGRhdGVmb3VuZCBldmVudCBpbXBsaWVzIHRoYXQgcmVnaXN0cmF0aW9uLmluc3RhbGxpbmcgaXMgc2V0OlxuICAgICAgICAgIC8vIGh0dHBzOi8vc2xpZ2h0bHlvZmYuZ2l0aHViLmlvL1NlcnZpY2VXb3JrZXIvc3BlYy9zZXJ2aWNlX3dvcmtlci9pbmRleC5odG1sI3NlcnZpY2Utd29ya2VyLWNvbnRhaW5lci11cGRhdGVmb3VuZC1ldmVudFxuICAgICAgICAgIHZhciBpbnN0YWxsaW5nV29ya2VyID0gcmVnaXN0cmF0aW9uLmluc3RhbGxpbmc7XG5cbiAgICAgICAgICBpbnN0YWxsaW5nV29ya2VyLm9uc3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoaW5zdGFsbGluZ1dvcmtlci5zdGF0ZSkge1xuICAgICAgICAgICAgICBjYXNlICdpbnN0YWxsZWQnOlxuXG4gICAgICAgICAgICAgICAgJCgnLm5ld0NvbnRlbnRQcm9tcHQnKS50cmFuc2l0aW9uKCdzbGlkZSBkb3duJyk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlICdyZWR1bmRhbnQnOlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGluc3RhbGxpbmcgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzZXJ2aWNlIHdvcmtlciBiZWNhbWUgcmVkdW5kYW50LicpO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gSWdub3JlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbihlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkdXJpbmcgc2VydmljZSB3b3JrZXIgcmVnaXN0cmF0aW9uOicsIGUpO1xuICAgIH0pO1xuICB9XG5cbiAgaW5pdCgpO1xuXG59KSgpO1xuIl19\n","\nfunction init() {\n\n  /* Init all components and functions */\n\n  let colorSeries = ['deep-orange-600', 'orange-700', 'orange-500', 'orange-700'];\n  let colors = colorSeries.map((e) => 'mdl-color--' + e);\n  let textColors = colorSeries.map((e) => 'mdl-color-text--' + e);\n\n  let errorContainer = document.querySelector('#errorContainer');\n  let showMsg = (message, actionHandler, actionText) => {\n    errorContainer.MaterialSnackbar.showSnackbar({\n      message: message,\n      timeout: 3000,\n      actionHandler: actionHandler,\n      actionText: actionText\n    });\n  };\n\n  let idx = null, data = null;\n  let mail = null;\n\n  $.ajaxSetup({\n    error: (xhr, status, exception) => {\n      mail = `mailto:accel@pku.edu.cn?subject=NT18 OnAir Bug&body=status:${status}; exception:${exception}`;\n      setTimeout(() => {\n        showMsg('Abstracts load error', () => {\n          location.href = mail;\n        }, 'Report');\n      }, 3000);\n    }\n  });\n\n  $.getJSON('data/abstracts.json', function (data_) {\n    data = data_;\n    idx = lunr(function () {\n      this.ref('id');\n      this.field('title');\n      this.field('lab');\n      this.field('content');\n      this.field('author');\n      data.forEach(function (doc) {\n        this.add({\n          id: doc.id,\n          title: doc.title,\n          author: doc.author.join(' '),\n          lab: doc.lab.join(' '),\n          content: doc.content,\n          mapping: doc.mapping\n        });\n      }, this);\n    });\n  });\n\n\n  // abstract tab processing\n\n  $('#searchInput').keydown((e) => {\n\n    let $searchResult = $('#searchResult');\n    let $searchInput = $('#searchInput');\n    let $searchActions = $('#abstract').find('.mdl-card__actions');\n\n    if (e.keyCode !== 13) return true;\n    e.preventDefault();\n\n    if (idx === null) {\n      showMsg('Abstracts load error', () => {\n        location.href = mail;\n      }, 'Report');\n      return;\n    }\n\n    $searchResult.html('');\n\n    let result = idx.search($searchInput.val());\n    if (result.length === 0) {\n      showMsg('No result', () => {\n        $searchInput.val('');\n      }, 'Clear Input');\n      if (!$searchActions.hasClass('hidden')) $searchActions.transition('fade out');\n      return;\n    }\n    if ($searchActions.hasClass('hidden')) $searchActions.transition('fade in');\n\n    result.forEach(function (elem, resultIndex) {\n\n      let resultJson = data[elem.ref];\n      let authors = resultJson.author\n        .map((authorName, index) => `${authorName}<sup>${resultJson.mapping[index]}</sup>`).join(', ');\n      let labs = resultJson.lab\n        .map((labName, index) => `(${index + 1}) ${labName}`).join(', ');\n      let colorIndex = resultIndex % colors.length;\n\n      $searchResult.append($(`\n            <section class=\"section--center mdl-grid mdl-shadow--2dp mdl-grid--no-spacing hidden resultUnits\">\n              <div class=\"mdl-card mdl-cell\n                          mdl-cell--12-col-desktop mdl-cell--8-col-tablet mdl-cell--4-col-phone\">\n                <div class=\"mdl-card__title mdl-color-text--white ${colors[colorIndex]}\"\n                     style=\"min-height: 80px;\">\n                  <h4 class=\"mdl-card__title-text\" style=\"margin-top: 30px;\">${resultJson.title}</h4>\n                </div>\n                <div class=\"mdl-card__supporting-text\">\n                  <h6 style=\"margin: 12px;\">${authors}</h6><br /><p>${labs}</p>\n                  <span class=\"resultInnerContent hidden\"><hr />${resultJson.content}</span>\n                </div>\n                <div class=\"mdl-card__actions\">\n                  <div class=\"mdl-button mdl-js-button mdl-js-ripple-effect ${textColors[colorIndex]}\">\n                    Toggle Content\n                  </div>\n                </div>\n              </div>\n            </section>\n          `).click((e) => {\n        if ($(e.target).hasClass('mdl-button__ripple-container'))\n          $(e.currentTarget).find('.resultInnerContent').toggleClass('hidden');\n      }));\n    });\n\n    componentHandler.upgradeAllRegistered();\n    $(\".resultUnits\").transition({ animation: 'slide down', duration: 200, interval: 100 });\n  });\n\n  // schedule tab\n\n  $(\"#schedule\").load('partial/schedule.html');\n\n  componentHandler.upgradeAllRegistered();\n\n}\n\n\nfunction skipA2HS() {\n\n  $('.mdl__loader.non-standalone').transition('fade out');\n\n}\n","\n/* eslint-env browser */\n(function() {\n  'use strict';\n\n  // Check to make sure service workers are supported in the current browser,\n  // and that the current page is accessed from a secure origin. Using a\n  // service worker from an insecure origin will trigger JS console errors. See\n  // http://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features\n  var isLocalhost = Boolean(window.location.hostname === 'localhost' ||\n      // [::1] is the IPv6 localhost address.\n      window.location.hostname === '[::1]' ||\n      // 127.0.0.1/8 is considered localhost for IPv4.\n      window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n      )\n    );\n\n  if ('serviceWorker' in navigator &&\n      (window.location.protocol === 'https:' || isLocalhost)) {\n    navigator.serviceWorker.register('service-worker.js')\n    .then(function(registration) {\n      // updatefound is fired if service-worker.js changes.\n      registration.onupdatefound = function() {\n        // updatefound is also fired the very first time the SW is installed,\n        // and there's no need to prompt for a reload at that point.\n        // So check here to see if the page is already controlled,\n        // i.e. whether there's an existing service worker.\n        if (navigator.serviceWorker.controller) {\n          // The updatefound event implies that registration.installing is set:\n          // https://slightlyoff.github.io/ServiceWorker/spec/service_worker/index.html#service-worker-container-updatefound-event\n          var installingWorker = registration.installing;\n\n          installingWorker.onstatechange = function() {\n            switch (installingWorker.state) {\n              case 'installed':\n\n                $('.newContentPrompt').transition('slide down');\n\n                break;\n\n              case 'redundant':\n                throw new Error('The installing ' +\n                                'service worker became redundant.');\n\n              default:\n                // Ignore\n            }\n          };\n        }\n      };\n    }).catch(function(e) {\n      console.error('Error during service worker registration:', e);\n    });\n  }\n\n  init();\n\n})();\n"]}